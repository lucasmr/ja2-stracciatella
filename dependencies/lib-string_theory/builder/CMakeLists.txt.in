# \file dependencies/lib-string_theory/builder/CMakeLists.txt.in
# Configured by @CMAKE_CURRENT_LIST_FILE@
#
# @ONLY variables:
#  * CMAKE_GENERATOR - which generator to use
#  * CACHE_FILE - initial cache of the external project
#  * INSTALL_PREFIX - where to install the files generated by the external project

cmake_minimum_required(VERSION 3.1)

project(builder NONE)

include(ExternalProject)
externalproject_add(string_theory
    URL "https://github.com/zrax/string_theory/archive/2.4.tar.gz"
    URL_MD5 "bc6308290a73587610157afc4c3b9d3a"
    CMAKE_ARGS
        "-G@CMAKE_GENERATOR@"
        "-C@CACHE_FILE@"
        "-DCMAKE_INSTALL_PREFIX=@INSTALL_PREFIX@"
        -DCMAKE_BUILD_TYPE=RelWithDebInfo
        -DST_CXX_STANDARD:STRING=11
        -DST_ENABLE_STL_FILESYSTEM:BOOL=OFF
        -DST_BUILD_STATIC:BOOL=ON
        -DST_BUILD_TESTS:BOOL=OFF
    BUILD_COMMAND "${CMAKE_COMMAND}" --build . --config RelWithDebInfo
    INSTALL_COMMAND "${CMAKE_COMMAND}" --build . --config RelWithDebInfo --target install
    BUILD_ALWAYS 1
)
